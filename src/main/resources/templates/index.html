<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments :: head"></head>
<body>
<header th:replace="fragments :: header"></header>
<article>
    <p>Naučite štedjeti uz MoneySaver <br>
        Pratite svoje troškove </p> <br>
    <br>
    <div sec:authorize="isAuthenticated()">
        <form method="POST" th:action="@{/logout}">
            Ulogirani ste kao <span sec:authentication="name">Korisnik</span>.
            <input type="submit" value="Logout" class="btn btn-danger"/>
        </form>
    </div>
    <form method='POST' th:object="${expense}">
        <h3>Unos novog troška</h3>
        <label>Novčanik:</label><br>
        <select th:field="*{wallet.id}">
            <option value="">--Odaberite vrijednost--</option>
            <option th:each="wallet : ${wallets}" th:value="${wallet.id}" th:text="${wallet.name}"></option>
        </select><br>
        <span style="color:red" class="validation-error" th:if="${#fields.hasErrors('expenseType')}"
              th:errors="*{expenseType}">name error</span><br>
        <label> Naziv:</label><br>
        <input type="text" maxlength="50" min="3" placeholder="Naziv troška" th:field="*{name}"/><br>
        <span style="color:red" id="validation_span" class="validation-error" th:if="${#fields.hasErrors('name')}"
              th:errors="*{name}">name error
					</span><br>
        <label>Vrsta troška:</label><br>
        <select th:field="*{expenseType}">
            <option value="">--Odaberite vrijednost--</option>
            <option th:each="type : ${expenseTypes}" th:value="${type}" th:text="${type}"></option>
        </select><br>
        <span style="color:red" class="validation-error" th:if="${#fields.hasErrors('expenseType')}"
              th:errors="*{expenseType}">name error
					</span><br>
        <label>Iznos:</label><br>
        <input type="number" step="0.01" th:field="*{price}" maxlength="6" min="1" placeholder="Iznos"/><br>
        <span style="color:red" class="validation-error" th:if="${#fields.hasErrors('price')}"
              th:errors="*{price}">amount error
					</span><br>
        <input type="hidden" name="_csrf" th:value="${_csrf.token}"/>
        <input type="submit" value="Unesi trošak">
    </form>
    <div id="div1" style="text-align: center;">
        <a style="float: left; width: 160px; margin-right: 30px;" th:href="@{/expenses/newWallet}">Unesi novi
            novčanik</a>
        <a style="float: left; width: 100px;" th:href="@{/expenses/searchExpenses}">Pretraga</a><br><br><br>
    </div>

</article>
</body>
</html>